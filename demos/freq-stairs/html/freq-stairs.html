<!DOCTYPE html>
<html>
    <head>
        <title>Frequency Stair Stepping Demo</title>
        <script src="../../../js/flocking.js"></script>
        <script src="../../shared/js/demo-utils.js"></script>
    </head>
    
    <body>
        <h1>Frequency Stair Stepping Demo</h1>
        <button id="synth-toggle">Play</button>
        <script type="text/javascript">
            // Create a new synth using the built-in vibrato sine synth graph.
            var synth = flock.synth({
                ugen: "flock.ugen.out",
                inputs: {
                    source: {
                        id: "carrier",
                        ugen: "flock.ugen.sinOsc",
                        inputs: {
                            freq: 55
                        }
                    }
                }
            });
            
            // Bind it to a play/pause toggle button.
            var button = demo.playPauseButton("synth-toggle", synth);
            
            // TODO: This is a hack.
            button.addEventListener("click", function (e) {
                var freq = synth.input("carrier.freq");
                window.setInterval(function () {
                    freq *= 2;
                    synth.input("carrier.freq", freq);
                }, 1000);
            }, false);
            
        </script>
    </body>
</html>
